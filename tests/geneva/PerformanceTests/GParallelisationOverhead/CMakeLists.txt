CMAKE_MINIMUM_REQUIRED(VERSION 2.8)

SET (EXECUTABLENAME GParallelisationOverhead)

SET (${EXECUTABLENAME}_SRCS
	GParallelisationOverhead
	GDelayIndividual
)

SET (CONFIGURATIONFILES
	config/GDelayIndividual.json
	config/GDelayIndividual-reference.json
	config/GEvolutionaryAlgorithm.json
	config/Go2.json
)

ADD_EXECUTABLE(${EXECUTABLENAME}
	${${EXECUTABLENAME}_SRCS}
)

# Copy the config files to the build tree for easier testing
FOREACH ( file IN LISTS CONFIGURATIONFILES )
	CONFIGURE_FILE ( ${file} ${file} COPYONLY )
ENDFOREACH ()

TARGET_LINK_LIBRARIES ( ${EXECUTABLENAME}
	${GENEVA_LIBRARIES}
	${Boost_LIBRARIES}
)

ADD_TEST(${EXECUTABLENAME} ${CMAKE_CURRENT_BINARY_DIR}/${EXECUTABLENAME})
SET_TESTS_PROPERTIES(${EXECUTABLENAME} PROPERTIES TIMEOUT 2500)

INSTALL ( TARGETS ${EXECUTABLENAME} DESTINATION tests/geneva/PerformanceTests/${EXECUTABLENAME} )

INSTALL ( FILES ${CONFIGURATIONFILES} DESTINATION tests/geneva/PerformanceTests/${EXECUTABLENAME}/config )
