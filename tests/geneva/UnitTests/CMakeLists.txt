CMAKE_MINIMUM_REQUIRED(VERSION 2.8)

ADD_CUSTOM_TARGET( "tests-geneva-unit"
	# Add all the available test targets (EXECUTABLENAMEs) here
	DEPENDS GenevaStandardTests
	COMMENT "Building the unit tests for the Optimization library."
)

SET ( EXECUTABLENAME GenevaStandardTests )

SET ( ${EXECUTABLENAME}_SRCS
	GenevaStandardTests
)

ADD_SUBDIRECTORY ( GBrokerTestsHeaders )

ADD_EXECUTABLE ( ${EXECUTABLENAME}
	${${EXECUTABLENAME}_SRCS}
)

INCLUDE_DIRECTORIES ( AFTER
	${PROJECT_SOURCE_DIR}/include
	${PROJECT_SOURCE_DIR}/tests/geneva/UnitTests/UtilityHeaders
)

TARGET_LINK_LIBRARIES ( ${EXECUTABLENAME}
	${GENEVA_INDIVIDUAL_LIBNAME}
	${GENEVA_LIBNAME}
	${COURTIER_LIBNAME}
	${HAP_LIBNAME}
	${COMMON_LIBNAME}
	${Boost_LIBRARIES}
)

ADD_TEST(${EXECUTABLENAME} ${CMAKE_CURRENT_BINARY_DIR}/${EXECUTABLENAME})

INSTALL ( TARGETS ${EXECUTABLENAME} DESTINATION tests/geneva/UnitTests )
