CMAKE_MINIMUM_REQUIRED(VERSION 2.6)

ADD_CUSTOM_TARGET ( "geneva-tests-unit" )

ADD_DEPENDENCIES ( "geneva-tests-unit"
	# Add all the available tests targets (EXECUTABLENAMEs) here
	GenevaStandardTests
	# GenevaObjectsTests
)

SET ( EXECUTABLENAME1 GenevaStandardTests )
# SET ( EXECUTABLENAME2 GenevaObjectsTests )

SET ( ${EXECUTABLENAME1}_SRCS 
	GenevaStandardTests
)

# SET ( ${EXECUTABLENAME2}_SRCS 
#	GenevaObjectsTests
#)

ADD_SUBDIRECTORY ( GBrokerTestsHeaders )
# ADD_SUBDIRECTORY ( GenevaObjectsTestsHeaders )
ADD_SUBDIRECTORY ( UtilityHeaders )

ADD_EXECUTABLE ( ${EXECUTABLENAME1}
	${${EXECUTABLENAME1}_SRCS}
)

#ADD_EXECUTABLE ( ${EXECUTABLENAME2}
#	${${EXECUTABLENAME2}_SRCS}
#)

INCLUDE_DIRECTORIES ( AFTER
	${PROJECT_SOURCE_DIR}/include
	${PROJECT_SOURCE_DIR}/tests/geneva/TestIndividuals
	${PROJECT_SOURCE_DIR}/tests/geneva/UnitTests/UtilityHeaders
#	${PROJECT_SOURCE_DIR}/tests/geneva/UnitTests/GenevaObjectsTestsHeaders
)

TARGET_LINK_LIBRARIES ( ${EXECUTABLENAME1}
#	${DATAEXCHANGE_LIBNAME} 
	${HAP_LIBNAME}
#	${COURTIER_LIBNAME}   
	${GENEVA_LIBNAME}
	${COMMON_LIBNAME}
	${Boost_LIBRARIES}
)

#TARGET_LINK_LIBRARIES ( ${EXECUTABLENAME2}
#	${DATAEXCHANGE_LIBNAME} 
#	${HAP_LIBNAME}
#	${COURTIER_LIBNAME}   
#	${GENEVA_LIBNAME}
#	${COMMON_LIBNAME}
#	${Boost_LIBRARIES}
#)

# INSTALL ( TARGETS ${EXECUTABLENAME1} ${EXECUTABLENAME2} DESTINATION tests/geneva/UnitTests
INSTALL ( TARGETS ${EXECUTABLENAME1} DESTINATION tests/geneva/UnitTests
	PERMISSIONS
	OWNER_READ OWNER_WRITE OWNER_EXECUTE
	GROUP_READ GROUP_EXECUTE
	WORLD_READ WORLD_EXECUTE
)
