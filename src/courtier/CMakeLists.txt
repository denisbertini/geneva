CMAKE_MINIMUM_REQUIRED(VERSION 2.8)

SET ( COMMUNICATIONSOURCES
	GAsioHelperFunctions
	GCourtierEnums
)

# BUILD_SHARED_LIBS controls the behavior of ADD_LIBRARY if STATIC/SHARED omitted
IF ( GENEVA_STATIC )
	ADD_LIBRARY ( ${COURTIER_LIBNAME} STATIC ${COMMUNICATIONSOURCES} )
ELSE ()
	ADD_LIBRARY ( ${COURTIER_LIBNAME} SHARED ${COMMUNICATIONSOURCES} )
ENDIF ( GENEVA_STATIC )

SET_TARGET_PROPERTIES( ${COURTIER_LIBNAME}
	PROPERTIES VERSION ${VERSION_MAJOR}.${VERSION_MINOR}.${VERSION_PATCH}
)

IF ( PLATFORM_NEEDS_LIBRARY_LINKING )
	TARGET_LINK_LIBRARIES(
		${COURTIER_LIBNAME}
		${HAP_LIBNAME}
		${COMMON_LIBNAME}
		${Boost_LIBRARIES}
	)
ENDIF ()

INSTALL ( TARGETS ${COURTIER_LIBNAME} DESTINATION lib )
