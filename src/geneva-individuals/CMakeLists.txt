CMAKE_MINIMUM_REQUIRED(VERSION 2.8)

SET ( SAMPLEINDIVIDUALSOURCES
    GDelayIndividual
	GExternalEvaluatorIndividual
	GFunctionIndividual
	GLineFitIndividual
	GMetaOptimizerIndividualT
	GNeuralNetworkIndividual
	GTestIndividual2
	GTestIndividual3
)

set_source_files_properties(
    ${SAMPLEINDIVIDUALSOURCES}
    PROPERTIES
    LANGUAGE CXX
    CXX_STANDARD 14
)

# BUILD_SHARED_LIBS controls the behavior of ADD_LIBRARY if STATIC/SHARED omitted
IF ( GENEVA_STATIC )
	ADD_LIBRARY ( ${GENEVA_INDIVIDUAL_LIBNAME} STATIC ${SAMPLEINDIVIDUALSOURCES} )
ELSE ()
	ADD_LIBRARY ( ${GENEVA_INDIVIDUAL_LIBNAME} SHARED ${SAMPLEINDIVIDUALSOURCES} )
ENDIF ()

SET_TARGET_PROPERTIES(
    ${GENEVA_INDIVIDUAL_LIBNAME}
    PROPERTIES
    VERSION ${GENEVA_VERSION}
    CXX_STANDARD 14
    CXX_STANDARD_REQUIRED 14
    MACOSX_RPATH ${INSTALL_PREFIX_LIBS}
)

# Enable API-exporting for this library
ADD_DEFINITIONS("-DGEM_INDIVIDUALS_EXPORTS")

IF ( PLATFORM_NEEDS_LIBRARY_LINKING )
	TARGET_LINK_LIBRARIES(
		${GENEVA_INDIVIDUAL_LIBNAME}
		${GENEVA_LIBNAME}
		${COURTIER_LIBNAME}
		${HAP_LIBNAME}
		${COMMON_LIBNAME}
		${Boost_LIBRARIES}
	)
ENDIF ()

INSTALL ( TARGETS ${GENEVA_INDIVIDUAL_LIBNAME} DESTINATION ${INSTALL_PREFIX_LIBS} )
