CMAKE_MINIMUM_REQUIRED(VERSION 2.8)

SET ( COMMONSOURCES
	GCanvas
    GCommonEnums
	GExceptions
	GExpectationChecksT
	GFormulaParserT
	GHelperFunctions
	GLockVarT
	GLogger
	GMathHelperFunctions
	GParserBuilder
	GPlotDesigner
    GThread
	GThreadGroup
	GThreadPool
	GThreadWrapper
)

# BUILD_SHARED_LIBS controls the behavior of ADD_LIBRARY if STATIC/SHARED omitted
IF ( GENEVA_STATIC )
	ADD_LIBRARY ( ${COMMON_LIBNAME} STATIC ${COMMONSOURCES} )
ELSE ()
	ADD_LIBRARY ( ${COMMON_LIBNAME} SHARED ${COMMONSOURCES} )
ENDIF ()

SET_TARGET_PROPERTIES( ${COMMON_LIBNAME}
	PROPERTIES VERSION ${GENEVA_VERSION}
)

# Enable API-exporting for this library
ADD_DEFINITIONS("-DGEM_COMMON_EXPORTS")

IF ( PLATFORM_NEEDS_LIBRARY_LINKING )
	TARGET_LINK_LIBRARIES(
		${COMMON_LIBNAME}
		${Boost_LIBRARIES}
	)
ENDIF ()

INSTALL ( TARGETS ${COMMON_LIBNAME} DESTINATION ${INSTALL_PREFIX_LIBS} )
